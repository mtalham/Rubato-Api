(window.webpackJsonprubato=window.webpackJsonprubato||[]).push([[0],{137:function(e,t,a){e.exports=a(272)},142:function(e,t,a){},143:function(e,t,a){},151:function(e,t){},153:function(e,t){},191:function(e,t){},192:function(e,t){},20:function(e,t,a){e.exports={bandVideos:"Band_bandVideos__1EGFn"}},272:function(e,t,a){"use strict";a.r(t);var n={};a.r(n),a.d(n,"default",(function(){return Me})),a.d(n,"unregister",(function(){return Ge}));var r=a(0),l=a.n(r),c=a(70),i=a.n(c),o=(a(142),a(11)),u=a(27),s=(a(143),a(1)),m=a(26),d=a.n(m),f=function(e){var t=e.name;return l.a.createElement("button",{style:{marginTop:"20px"},className:"btn waves-effect waves-light",type:"submit"},t,l.a.createElement("i",{className:"material-icons right"},"send"))},E=function(e){var t=e.icon,a=e.classname,n=e.onClick,r=e.text;return l.a.createElement("button",{onClick:n,className:d()("btn waves-effect waves-light hoverable",a,{"halfway-fab btn-floating":!r})},r,l.a.createElement("i",{className:"material-icons right"},t))},p=function(e){var t=e.onClick,a=e.icon,n=e.classname;return l.a.createElement("button",{className:d()("right red btn-floating hoverable",n),onClick:t},l.a.createElement("i",{className:"material-icons right"},a))},v=function(e){var t=e.mainIcon,a=e.title,n=e.firstLine,r=e.secondLine,c=e.secondaryIcon,i=e.link,u=e.isAdmin,s=e.onDeleteClick;return l.a.createElement("li",{className:"collection-item avatar"},l.a.createElement("i",{className:"material-icons circle"},t),l.a.createElement("span",{className:"title"},a),l.a.createElement("p",null,n," ",l.a.createElement("br",null)," ",r),u&&l.a.createElement("div",{style:g,className:"secondary-content"},l.a.createElement(E,{icon:"delete",classname:"red btn-small",onClick:s})),l.a.createElement(o.b,{to:i,className:"secondary-content"},l.a.createElement("i",{className:"material-icons"},c)))};v.defaultProps={mainIcon:"account_circle",secondaryIcon:"send",link:"/",isAdmin:!1};var b=function(e){var t=e.children;return l.a.createElement("ul",{className:"collection"},t)},g={marginRight:"30px",marginTop:"15px"},h=function(e){var t=e.children;return l.a.createElement("li",{className:"collection-item"},t)},N=a(49),O=a(133),y=a.n(O),w=a(15),j=a.n(w),k=a(21),S=a.n(k);function C(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function x(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?C(a,!0).forEach((function(t){Object(N.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):C(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var _="admin",F="user",A="band",I=function(e){return e&&y.a.decode(e.slice(7),{complete:!0})},D=function(){var e=localStorage.getItem("token"),t=I(e);return!!t&&{user:t.payload,token:e}},B=function(){var e={headers:{Authorization:localStorage.getItem("token")}};return{get:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.a.get(t,x({},e,{},a))},post:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.a.post(t,a,x({},e,{},n))},put:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.a.put(t,a,x({},e,{},n))},delete:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.a.delete(t,x({},e,{},a))}}},P=function(e){return B().get("https://rubato-web.herokuapp.com/api/person/searchById/".concat(e)).then((function(e){return e.data}))},L=function(){localStorage.removeItem("token"),delete j.a.defaults.headers.common.Authorization},R=function(e){return S()(e).format("DD-MM-YYYY")},V=function(){return B().get("api/person/list-all").then((function(e){return e.data}))},W=a(134),U=a.n(W),T=a(73),Y=a.n(T),q=function(e){var t=e.children,a=e.className,n=e.isOpen,r=e.overlayClassName,c=e.title,i=e.onClose;return l.a.createElement(U.a,{ariaHideApp:!1,className:d()(Y.a.modal,a),overlayClassName:d()(Y.a.overlay,r),onRequestClose:i,closeTimeoutMS:350,isOpen:n},l.a.createElement("div",null,l.a.createElement("i",{className:"material-icons right hoverable",onClick:i},"close"),c&&l.a.createElement("div",{className:"center-align",style:{fontWeight:"bold"}},c),l.a.createElement("div",{className:"center-align"},t)))},z=function(){return l.a.createElement("div",{className:"container center-align",style:{marginTop:"150px"}},l.a.createElement("div",{className:"preloader-wrapper big active container center-align"},l.a.createElement("div",{className:"spinner-layer spinner-blue"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))),l.a.createElement("div",{className:"spinner-layer spinner-red"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))),l.a.createElement("div",{className:"spinner-layer spinner-yellow"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"}))),l.a.createElement("div",{className:"spinner-layer spinner-green"},l.a.createElement("div",{className:"circle-clipper left"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"gap-patch"},l.a.createElement("div",{className:"circle"})),l.a.createElement("div",{className:"circle-clipper right"},l.a.createElement("div",{className:"circle"})))))},M=a(33),J=a.n(M),G=function(e){var t=e.value,a=e.onChange,n=e.name,r=e.label,c=e.required,i=e.icon;return l.a.createElement("div",{className:"input-field col s6"},i&&l.a.createElement("i",{className:"material-icons prefix"},i),l.a.createElement("input",{type:"text",id:"".concat(n,"-input"),value:t,onChange:a,required:c}),l.a.createElement("label",{htmlFor:"".concat(n,"-input")},r))};G.defaultProps={required:!0};var H=function(e){var t=e.value,a=e.onChange,n=e.options;return l.a.createElement("select",{value:t,onChange:a,className:"browser-default"},l.a.createElement("option",{key:9999,disabled:!0,value:""},"Select option"),n)},K=function(e){var t=e.value,a=e.onChange,n=e.name,r=e.label,c=e.required;return l.a.createElement("div",{className:"input-field col s6"},l.a.createElement("input",{type:"date",id:"".concat(n,"-input"),value:t,onChange:a,required:c}),l.a.createElement("label",{htmlFor:"".concat(n,"-input")},r))};K.defaultProps={required:!0};var Q=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)({clicked:!1,id:-1}),i=Object(s.a)(c,2),o=i[0],m=i[1],d=Object(r.useState)(!1),f=Object(s.a)(d,2),p=f[0],g=f[1],h=Object(r.useState)(""),N=Object(s.a)(h,2),O=N[0],y=N[1],w=D();Object(r.useEffect)((function(){0===O.length&&V().then((function(e){n(e)}))}),[w.token,p,O]),Object(r.useEffect)((function(){O&&O.length>0&&function(e){return B().get("api/person/search/".concat(e)).then((function(e){return e.data}))}(O).then((function(e){return n(e)}))}),[O]);return a?w.user.role!==_?l.a.createElement(u.a,{to:"/login"}):l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"container center-align"},l.a.createElement(G,{icon:"search",name:"search",value:O,onChange:function(e){return y(e.target.value)},label:"Search anyone"})),l.a.createElement(b,null,a&&a.map((function(e){return l.a.createElement("div",{className:J.a.item,key:e.personId},l.a.createElement(v,{title:e.name,firstLine:e.username,secondLine:e.about,link:"/user-details/".concat(e.personId),isAdmin:!0,onDeleteClick:function(){return m({clicked:!0,id:e.personId})}}))})),l.a.createElement(q,{title:"Confirmation Alert!!",isOpen:o.clicked,onClose:function(){return m({clicked:!1,id:-1})}},l.a.createElement(X,{users:a,id:o.id}),l.a.createElement("div",{className:J.a.deleteButton},l.a.createElement(E,{text:"Yes, Delete it",classname:"red",onClick:function(){var e;(e=o.id,B().delete("api/person/delete/".concat(e)).then((function(){return!0}))).then((function(e){m({clicked:!1,id:-1}),g(e)}))}})),l.a.createElement(E,{text:"Cancel",onClick:function(){return m({clicked:!1,id:-1})}})))):l.a.createElement(z,null)},X=function(e){var t=e.users,a=e.id,n=t&&-1!==a&&t.filter((function(e){return e.personId.toString()===a.toString()}))[0],r="This action is permanent and it will delete all the data related to ".concat(n?n.name:"",".");return l.a.createElement("div",{className:J.a.text},r," ",l.a.createElement("br",null),"Are you sure you want to delete?")},$=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(""),u=Object(s.a)(o,2),m=u[0],d=u[1],E=Object(r.useState)(null),p=Object(s.a)(E,2),v=p[0],b=p[1];return l.a.createElement("div",{id:"Login",className:"input-field center-align"},l.a.createElement("h6",null,l.a.createElement("b",null,"If you are registered, login here.")),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.a.post("api/register/signIn",{username:c,password:m}).then((function(e){var a;a=e.data.token,localStorage.setItem("token",a),a?j.a.defaults.headers.common.Authorization=a:delete j.a.defaults.headers.common.Authorization,t.push("/")})).catch((function(e){return b(e.response.data)}))}},l.a.createElement("div",{className:"container center-align"},l.a.createElement(G,{value:c,onChange:function(e){return i(e.target.value)},label:"Username",name:"username"}),v&&l.a.createElement("div",{style:{color:"red"}},v.username),l.a.createElement(G,{value:m,onChange:function(e){return d(e.target.value)},label:"Password",name:"password"}),v&&l.a.createElement("div",{style:{color:"red"}},v.password),l.a.createElement(f,{name:"Login"}))))},Z=function(){var e=D();return l.a.createElement("nav",null,l.a.createElement("div",{className:"nav-wrapper blue-grey darken-4"},l.a.createElement("a",{href:"https://rubato.no/",className:"brand-logo center"},l.a.createElement("b",null,"rubato.")),l.a.createElement("ul",{className:"left hide-on-med-and-down"},l.a.createElement("li",null,l.a.createElement("i",{style:{marginLeft:"5px"},className:"material-icons"},"account_circle")),e&&l.a.createElement("li",null,l.a.createElement("span",{style:{fontWeight:"bold",marginLeft:"5px"}},e.user.name))),l.a.createElement("ul",{className:"right hide-on-med-and-down"},e?l.a.createElement("li",null,l.a.createElement(o.b,{to:"/login",onClick:L},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/login"},"Login")),l.a.createElement("li",null,l.a.createElement(o.b,{to:"/register"},"Register"))),l.a.createElement("li",null,l.a.createElement("a",{href:"https://rubato.no/"},"Blog"))),window.innerWidth<=550&&l.a.createElement(l.a.Fragment,null,l.a.createElement("ul",{className:"right"},e?l.a.createElement("li",null,l.a.createElement(o.b,{to:"/login",onClick:L},"Logout")):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/login"},"Login")))),l.a.createElement("ul",{className:"left"},e?l.a.createElement("li",null,l.a.createElement("span",{style:{marginLeft:"3px"}},e.user.name)):l.a.createElement(l.a.Fragment,null,l.a.createElement("li",null,l.a.createElement(o.b,{to:"/register"},"Register")))))))},ee=[l.a.createElement("option",{key:2,value:"user"},"USER"),l.a.createElement("option",{key:3,value:"band"},"BAND")],te=function(e){var t=e.history,a=Object(r.useState)(""),n=Object(s.a)(a,2),c=n[0],i=n[1],o=Object(r.useState)(""),u=Object(s.a)(o,2),m=u[0],d=u[1],E=Object(r.useState)(""),p=Object(s.a)(E,2),v=p[0],b=p[1],g=Object(r.useState)(""),h=Object(s.a)(g,2),N=h[0],O=h[1],y=Object(r.useState)(""),w=Object(s.a)(y,2),k=w[0],S=w[1],C=Object(r.useState)(""),x=Object(s.a)(C,2),_=x[0],F=x[1],A=Object(r.useState)(""),I=Object(s.a)(A,2),D=I[0],B=I[1],P=Object(r.useState)(""),L=Object(s.a)(P,2),R=L[0],V=L[1],W=Object(r.useState)(null),U=Object(s.a)(W,2),T=U[0],Y=U[1];return l.a.createElement("div",null,l.a.createElement("h6",{className:"center-align",style:{marginBottom:"20px"}},l.a.createElement("b",null,"Don't have an account yet, get yourself registered here.")),l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.a.post("api/register/signUp",{name:c,username:m,phone:v,password:N,confirmPassword:k,about:D,price:R,role:_}).then((function(){t.push("/login")})).catch((function(e){return Y(e.response.data)}))}},l.a.createElement("div",{className:"container center-align"},l.a.createElement(H,{options:ee,value:_,onChange:function(e){return F(e.target.value)}}),_&&l.a.createElement(l.a.Fragment,null,l.a.createElement(G,{onChange:function(e){return i(e.target.value)},value:c,label:"band"===_?"Band Name":"Your Name",name:"band"}),l.a.createElement(G,{value:m,onChange:function(e){return d(e.target.value)},label:"Email",name:"username"}),T&&l.a.createElement("div",{style:{color:"red"}},T.message),l.a.createElement(G,{value:v,onChange:function(e){return b(e.target.value)},label:"Phone Number",name:"phone"}),l.a.createElement(G,{value:N,onChange:function(e){return O(e.target.value)},label:"Password",name:"password"}),l.a.createElement(G,{value:k,onChange:function(e){return S(e.target.value)},label:"Confirm Password",name:"confirmPassword"}),"band"===_&&l.a.createElement(l.a.Fragment,null,l.a.createElement("div",{className:"input-field col s12"},l.a.createElement("textarea",{id:"about-input",value:D,name:"about",onChange:function(e){return B(e.target.value)},required:!0}),l.a.createElement("label",{htmlFor:"about-input"},"Write Description of Your Band")),l.a.createElement(G,{value:R,onChange:function(e){return V(e.target.value)},label:"Booking Fee",name:"price"})),l.a.createElement(f,{name:"Register"})))))},ae=Object(r.createContext)(null),ne=I(localStorage.getItem("token")),re=function(e){var t=e.children;return l.a.createElement(ae.Provider,{value:{decoded:ne}},t)},le=function(){var e=D();if(!e)return l.a.createElement(u.a,{to:"/login"});switch(e.user.role){case _:return l.a.createElement(u.a,{to:"/admin"});case F:return l.a.createElement(u.a,{to:"/user-profile"});case A:return l.a.createElement(u.a,{to:"/band"});default:return l.a.createElement(u.a,{to:"/login"})}},ce=function(e){var t=e.title,a=e.icon,n=e.onClick,r=e.classname;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-image"},l.a.createElement("span",{className:"card-title blue-grey",style:{width:"100%",fontWeight:"bold"}},t),l.a.createElement(E,{onClick:n,icon:a,classname:r})))},ie=function(e){var t=e.children;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-content"},t))},oe=function(e){var t=e.children,a=e.imageContent;return l.a.createElement("div",{className:"card"},l.a.createElement("div",{className:"card-image"},a),l.a.createElement("div",{className:"card-content"},t))},ue=a(20),se=a.n(ue),me=a(40),de=a.n(me),fe=function(e){var t=e.title,a=e.children,n=e.button,r=e.showFullUnderline,c=e.childStyle;return l.a.createElement("div",{className:de.a.root},l.a.createElement("div",{className:de.a.title},l.a.createElement("span",null,t),l.a.createElement("div",{className:d()(de.a.underline,Object(N.a)({},de.a.fullWidth,r))}),n),l.a.createElement("div",{className:c},a))},Ee=a(50),pe=a(75),ve=a.n(pe),be=function(e){var t=e.referenceButton,a=e.children,n=e.isOpen;return l.a.createElement(Ee.a,null,l.a.createElement(Ee.c,null,(function(e){var a=e.ref;return l.a.createElement("div",{ref:a},t)})),n?l.a.createElement(Ee.b,{placement:"bottom"},(function(e){var t=e.ref,n=e.style,r=e.placement,c=e.arrowProps;return l.a.createElement("div",{ref:t,className:ve.a.popper,style:n,"data-placement":r},a,l.a.createElement("div",{ref:c.ref,style:c.style,className:ve.a.arrow,"data-placement":r}))})):null)},ge=function(e){var t=e.onDelete,a=Object(r.useState)(!1),n=Object(s.a)(a,2),c=n[0],i=n[1];return l.a.createElement(be,{isOpen:c,referenceButton:l.a.createElement(p,{onClick:function(){return i(!c)},icon:"delete"})},l.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:"center-align"},"Are you sure?",l.a.createElement("div",{style:{margin:"8px 0 8px 0"}},l.a.createElement(E,{text:"Yes, Delete it",classname:"red",onClick:t})),l.a.createElement(E,{text:"Cancel",onClick:function(){return i(!1)}})))},he=function(e){var t=e.src,a=e.videoId,n=e.title,r=e.description,c=e.refetch;return l.a.createElement(oe,{imageContent:l.a.createElement("iframe",{src:t,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:a,width:"100%"})},l.a.createElement(ge,{onDelete:function(){B().delete("api/video/delete/".concat(a)).then((function(){c(3)}))}}),l.a.createElement("div",{style:{maxWidth:"fit-content"}},l.a.createElement("span",{className:"card-title"},n),l.a.createElement("p",null,r)))},Ne=function(e){var t=e.setShowForm,a=e.setRefetch,n=Object(r.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1],u=Object(r.useState)(""),m=Object(s.a)(u,2),d=m[0],E=m[1],p=Object(r.useState)(""),v=Object(s.a)(p,2),b=v[0],g=v[1];return l.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),B().post("api/video/upload",{name:i,path:(n=d,n.split("&")[0].replace("www.youtube.com/watch?v=","www.youtube.com/embed/")),type:b}).then((function(){t(!1),a(4)}))}},l.a.createElement(G,{value:i,onChange:function(e){return o(e.target.value)},label:"Video Name",name:"name"}),l.a.createElement(G,{value:d,onChange:function(e){return E(e.target.value)},label:"Video Link",name:"path"}),l.a.createElement(G,{value:b,onChange:function(e){return g(e.target.value)},label:"Description",name:"description"}),l.a.createElement(f,{name:"Submit"}))},Oe=function(e){var t=e.videos,a=e.setRefetch,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],o=c[1];return l.a.createElement(fe,{title:"Video Section",button:l.a.createElement(E,{text:"Add video",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},l.a.createElement("div",{className:se.a.bandVideos},t&&t.map((function(e){return l.a.createElement(he,{title:e.name,src:e.path,description:e.type,videoId:e.idVideo,key:e.idVideo,refetch:a})}))),l.a.createElement(q,{isOpen:i,title:"Add Video Form",onClose:function(){return o(!1)}},l.a.createElement("div",{className:"container center-align"},l.a.createElement(Ne,{setShowForm:o,setRefetch:a}))))},ye=function(e){var t=e.setShowForm,a=e.setRefetch,n=e.form,c=Object(r.useState)(""),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(r.useState)(""),d=Object(s.a)(m,2),E=d[0],p=d[1],v=Object(r.useState)(""),b=Object(s.a)(v,2),g=b[0],h=b[1];return l.a.createElement("div",{className:"container center-align"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),B().post("api/".concat(n,"/upload"),{name:o,path:E,description:g}).then((function(){t(!1),a(6)}))}},l.a.createElement(G,{value:o,onChange:function(e){return u(e.target.value)},label:"image"===n?"Image Name":"Album Name",name:"name"}),l.a.createElement(G,{value:E,onChange:function(e){return p(e.target.value)},label:"image"===n?"Image Link":"Album Link",name:"path"}),l.a.createElement(G,{value:g,onChange:function(e){return h(e.target.value)},label:"Description",name:"description"}),l.a.createElement(f,{name:"Submit"})))};ye.defaultProps={form:"image"};var we=ye,je=function(e){var t=e.images,a=e.setRefetch,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],o=c[1];return l.a.createElement(fe,{title:"Image Section",button:l.a.createElement(E,{text:"Add image",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},l.a.createElement("div",{className:se.a.bandVideos},t&&t.map((function(e){return l.a.createElement(ke,{image:e,refetch:a,key:e.idImage})}))),l.a.createElement(q,{isOpen:i,title:"Add Image",onClose:function(){return o(!1)}},l.a.createElement(we,{setShowForm:o,setRefetch:a})))},ke=function(e){var t=e.image,a=e.refetch;return l.a.createElement(oe,{imageContent:l.a.createElement("img",{src:t.path,alt:"new"})},l.a.createElement(ge,{onDelete:function(){B().delete("api/image/delete/".concat(t.idImage)).then((function(){a(7)}))}}),l.a.createElement("span",{className:"card-title"},t.name),l.a.createElement("p",null,t.description))},Se=function(e){var t=e.showForm,a=e.setShowForm,n=e.band,c=e.setRefetch,i=Object(r.useState)(n.name),o=Object(s.a)(i,2),u=o[0],m=o[1],d=Object(r.useState)(n.about),E=Object(s.a)(d,2),p=E[0],v=E[1],b=Object(r.useState)(n.phone),g=Object(s.a)(b,2),h=g[0],N=g[1],O=Object(r.useState)(n.price),y=Object(s.a)(O,2),w=y[0],j=y[1];return l.a.createElement(q,{isOpen:t,title:"Update Band Information",onClose:function(){return a(!1)}},l.a.createElement("div",{className:"container center-align"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),B().put("api/person/update-band/".concat(n.idPerson),{name:u,about:p,phone:h,price:w}).then((function(){a(!1),c(2)}))}},l.a.createElement(G,{defaultValue:n.name,name:"name",value:u,icon:"account_circle",onChange:function(e){return m(e.target.value)}}),l.a.createElement(G,{name:"about",value:p,icon:"description",onChange:function(e){return v(e.target.value)}}),l.a.createElement(G,{name:"number",value:h,icon:"phone",onChange:function(e){return N(e.target.value)}}),l.a.createElement(G,{name:"price",value:w,icon:"attach_money",onChange:function(e){return j(e.target.value)}}),l.a.createElement(f,{name:"Submit"}))))},Ce={large:{width:300,height:380},compact:{width:300,height:80}},xe=function(e){var t=e.uri,a=e.view,n=e.theme,r=e.size;return"string"===typeof r&&(r=Ce[r]),l.a.createElement("iframe",{title:"Spotify",className:"SpotifyPlayer",src:"https://embed.spotify.com/?uri=".concat(t,"&view=").concat(a,"&theme=").concat(n),width:r.width,height:r.height,frameBorder:"0",allowtransparency:"true"})};xe.defaultProps={size:"large",view:"list",theme:"black"};var _e=xe,Fe=function(e){var t=e.audios,a=e.setRefetch,n=Object(r.useState)(!1),c=Object(s.a)(n,2),i=c[0],o=c[1];return l.a.createElement(fe,{title:"Audio Section",button:l.a.createElement(E,{text:"Add album",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},l.a.createElement("div",{className:se.a.bandVideos},t&&t.map((function(e){return l.a.createElement(Ae,{audio:e,key:e.idAudio,refetch:a})}))),l.a.createElement(q,{isOpen:i,title:"Add Spotify Album",onClose:function(){return o(!1)}},l.a.createElement(we,{form:"audio",setRefetch:a,setShowForm:o})))},Ae=function(e){var t=e.audio,a=e.refetch;return l.a.createElement(oe,{imageContent:l.a.createElement(_e,{uri:t.path})},l.a.createElement(ge,{onDelete:function(){B().delete("api/audio/delete/".concat(t.idAudio)).then((function(){a(5)}))}}),l.a.createElement("span",{className:"card-title"},t.name),l.a.createElement("p",null,t.description))},Ie=function(e){var t=e.bookings;return l.a.createElement("ul",{className:"collection"},t.filter((function(e){return S()(e.toDate).isAfter(S()().subtract(1,"days"))})).map((function(e){return l.a.createElement(h,{key:e.id},l.a.createElement("b",null,"Start:")," ",R(e.fromDate),l.a.createElement("br",null),l.a.createElement("b",null,"End:")," ",R(e.toDate),l.a.createElement("br",null))})))},De=function(e){var t=e.refetch,a=Object(r.useState)(null),n=Object(s.a)(a,2),c=n[0],i=n[1],o=D();return Object(r.useEffect)((function(){B().get("api/booking/user-bookings/".concat(o.user.idPerson)).then((function(e){return i(e.data)}))}),[o.user.idPerson,t]),null===c||0===c.length?l.a.createElement("div",null,"You did not have any bookings."):l.a.createElement(Ie,{bookings:c})},Be=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(0),i=Object(s.a)(c,2),o=i[0],u=i[1],m=Object(r.useState)(!1),d=Object(s.a)(m,2),f=d[0],E=d[1],p=D();return Object(r.useEffect)((function(){P(p.user.idPerson).then((function(e){return n(e)}))}),[p.token,o]),a?(console.log(a),l.a.createElement("div",{style:{marginTop:"100px"},className:"container"},l.a.createElement(ce,{title:a.name,icon:"edit",onClick:function(){return E(!0)}}),l.a.createElement(Pe,{band:a}),l.a.createElement(Se,{showForm:f,setShowForm:E,band:a,setRefetch:u}),l.a.createElement(fe,{title:"Bookings",showFullUnderline:!0},a.bookings&&a.bookings.length>0?l.a.createElement(Ie,{bookings:a.bookings}):l.a.createElement("div",null,"You don't have any bookings yet.")),l.a.createElement(Oe,{videos:a.video,setRefetch:u}),l.a.createElement(Fe,{audios:a.audio,setRefetch:u}),l.a.createElement(je,{images:a.images,setRefetch:u}))):l.a.createElement(z,null)},Pe=function(e){var t=e.band;return l.a.createElement(ie,null,l.a.createElement("div",null,l.a.createElement("b",null,"About:")," ",l.a.createElement("span",null,t.about)),l.a.createElement("div",null,l.a.createElement("b",null,"Contact Number:")," ",l.a.createElement("span",null,t.phone)),l.a.createElement("div",null,l.a.createElement("b",null,"Booking Fee:")," ",l.a.createElement("span",null,t.price)))},Le=function(e){var t=e.user;return l.a.createElement(fe,{title:"Video Section",showFullUnderline:!0},l.a.createElement("div",{className:se.a.bandVideos},t.video&&t.video.map((function(e){return l.a.createElement(oe,{imageContent:l.a.createElement("iframe",{src:e.path,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:e.idVideo,width:"100%"}),key:e.idVideo},l.a.createElement("span",{className:"card-title"},e.name),l.a.createElement("p",null,e.type))}))))},Re=function(e){var t=e.user;return l.a.createElement(fe,{title:"Image Section",showFullUnderline:!0},l.a.createElement("div",{className:se.a.bandVideos},t.images&&t.images.map((function(e){return l.a.createElement(oe,{imageContent:l.a.createElement("img",{src:e.path,alt:"new"}),key:e.idImage},l.a.createElement("span",{className:"card-title"},e.name),l.a.createElement("p",null,e.description))}))))},Ve=function(e){var t=e.user;return l.a.createElement(fe,{title:"Audio Section",showFullUnderline:!0},l.a.createElement("div",{className:se.a.bandVideos},t.audio&&t.audio.map((function(e){return l.a.createElement(_e,{uri:e.path,key:e.idAudio})}))))},We=function(e){var t=e.match,a=e.history,n=D(),c=Object(r.useState)(null),i=Object(s.a)(c,2),o=i[0],u=i[1],m=t.params.id;Object(r.useEffect)((function(){P(m).then((function(e){return u(e)})).catch((function(e){return console.log(e.response)}))}),[m]);return o?(console.log(o),l.a.createElement("div",{style:{marginTop:"100px"},className:"container"},l.a.createElement(ce,{title:o.name,icon:"arrow_back",onClick:function(){var e=n&&n.user.role===_?"/admin":"/user-profile";a.push(e)}}),l.a.createElement(Pe,{band:o}),l.a.createElement(fe,{title:"Bookings",showFullUnderline:!0},o.bookings&&o.bookings.length>0?l.a.createElement(Ie,{bookings:o.bookings}):l.a.createElement("div",null,"Band is free for booking!")),l.a.createElement(Le,{user:o}),l.a.createElement(Ve,{user:o}),l.a.createElement(Re,{user:o}))):l.a.createElement(z,null)},Ue=function(e){return e&&e.filter((function(e){return e.role===A})).map((function(e){return l.a.createElement("option",{key:e.personId,value:e.personId},e.name)}))},Te=function(e){var t=e.bandList,a=e.setShowForm,n=Object(r.useState)(""),c=Object(s.a)(n,2),i=c[0],o=c[1],u=Object(r.useState)(""),m=Object(s.a)(u,2),d=m[0],E=m[1],p=Object(r.useState)(""),v=Object(s.a)(p,2),b=v[0],g=v[1],h=Object(r.useState)(""),N=Object(s.a)(h,2),O=N[0],y=N[1];return l.a.createElement("div",{className:"container center-align"},l.a.createElement("form",{onSubmit:function(e){e.preventDefault(),(S()(i).isAfter(d)||S()(d).isBefore(i)?(y("Start date cannot be after end date."),0):!S()(d).isBefore(S()())||(y("Booking cannot be done in the past."),0))&&B().post("api/booking/create",{fromDate:i,toDate:d,bandId:b}).then((function(){a(!1)}))}},l.a.createElement(H,{options:Ue(t),value:b,onChange:function(e){return g(e.target.value)}}),l.a.createElement(K,{name:"fromDate",label:"Start Date",value:i,onChange:function(e){return o(e.target.value)}}),O&&l.a.createElement("div",{style:{color:"red"}},O),l.a.createElement(K,{name:"toDate",label:"End Date",value:d,onChange:function(e){return E(e.target.value)}}),l.a.createElement(f,{name:"Submit"})))},Ye=function(){var e=Object(r.useState)(null),t=Object(s.a)(e,2),a=t[0],n=t[1],c=Object(r.useState)(!1),i=Object(s.a)(c,2),o=i[0],u=i[1];return Object(r.useEffect)((function(){V().then((function(e){return n(e)}))}),[]),a?l.a.createElement("div",{className:"container",style:{marginTop:"30px"}},l.a.createElement(fe,{title:"Bookings",button:l.a.createElement(E,{text:"Add Booking",icon:"playlist_add",classname:"blue-grey",onClick:function(){return u(!0)}})},l.a.createElement(l.a.Fragment,null,l.a.createElement(q,{isOpen:o,title:"Add Booking",onClose:function(){return u(!1)}},l.a.createElement(Te,{bandList:a,setShowForm:u})),l.a.createElement(De,{refetch:o}))),l.a.createElement(fe,{title:"Band List",showFullUnderline:!0},l.a.createElement(b,null,a&&a.filter((function(e){return e.role===A})).map((function(e){return l.a.createElement("div",{className:J.a.item,key:e.personId},l.a.createElement(v,{title:e.name,firstLine:e.username,secondLine:e.phone,link:"/user-details/".concat(e.personId)}))}))))):l.a.createElement(z,null)},qe=function(){return l.a.createElement("div",{className:"App"},l.a.createElement(re,null,l.a.createElement(o.a,null,l.a.createElement(u.b,{path:"/",component:Z}),l.a.createElement(u.d,null,l.a.createElement(u.b,{exact:!0,path:"/",component:le}),l.a.createElement(u.b,{exact:!0,path:"/login",component:$}),l.a.createElement(u.b,{exact:!0,path:"/admin",component:Q}),l.a.createElement(u.b,{exact:!0,path:"/register",component:te}),l.a.createElement(u.b,{exact:!0,path:"/band",component:Be}),l.a.createElement(u.b,{exact:!0,path:"/user-profile",component:Ye}),l.a.createElement(u.b,{exact:!0,path:"/user-details/:id",component:We})))))},ze=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Me(){if("serviceWorker"in navigator){if(new URL("",window.location).origin!==window.location.origin)return;window.addEventListener("load",(function(){var e="".concat("","/service-worker.js");ze?(!function(e){fetch(e).then((function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):Je(e)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")}))):Je(e)}))}}function Je(e){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}})).catch((function(e){console.error("Error during service worker registration:",e)}))}function Ge(){"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))}i.a.render(l.a.createElement(qe,null),document.getElementById("root")),n()},33:function(e,t,a){e.exports={item:"Admin_item__2zE4v",deleteButton:"Admin_deleteButton__2rF0I",text:"Admin_text__2FTVu"}},40:function(e,t,a){e.exports={root:"Section_root__Sp7Pw",title:"Section_title__1BCX7",underline:"Section_underline__1LTbr",fullWidth:"Section_fullWidth__20JSt"}},73:function(e,t,a){e.exports={modal:"Modal_modal__3-K9g",overlay:"Modal_overlay__2CnJs"}},75:function(e,t,a){e.exports={popper:"Popper_popper__UIlmS",arrow:"Popper_arrow__3I2s6"}}},[[137,1,2]]]);
//# sourceMappingURL=main.3afa9805.chunk.js.map