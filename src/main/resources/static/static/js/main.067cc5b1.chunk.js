(window.webpackJsonprubato=window.webpackJsonprubato||[]).push([[0],{137:function(e,t,a){e.exports=a(272)},142:function(e,t,a){},143:function(e,t,a){},151:function(e,t){},153:function(e,t){},191:function(e,t){},192:function(e,t){},20:function(e,t,a){e.exports={bandVideos:"Band_bandVideos__1EGFn"}},272:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(70),c=a.n(l),i=(a(142),a(11)),o=a(27),u=(a(143),a(1)),s=a(26),m=a.n(s),d=function(e){var t=e.name;return r.a.createElement("button",{style:{marginTop:"20px"},className:"btn waves-effect waves-light",type:"submit"},t,r.a.createElement("i",{className:"material-icons right"},"send"))},f=function(e){var t=e.icon,a=e.classname,n=e.onClick,l=e.text;return r.a.createElement("button",{onClick:n,className:m()("btn waves-effect waves-light hoverable",a,{"halfway-fab btn-floating":!l})},l,r.a.createElement("i",{className:"material-icons right"},t))},p=function(e){var t=e.onClick,a=e.icon,n=e.classname;return r.a.createElement("button",{className:m()("right red btn-floating hoverable",n),onClick:t},r.a.createElement("i",{className:"material-icons right"},a))},E=function(e){var t=e.mainIcon,a=e.title,n=e.firstLine,l=e.secondLine,c=e.secondaryIcon,o=e.link,u=e.isAdmin,s=e.onDeleteClick;return r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement("i",{className:"material-icons circle"},t),r.a.createElement("span",{className:"title"},a),r.a.createElement("p",null,n," ",r.a.createElement("br",null)," ",l),u&&r.a.createElement("div",{style:v,className:"secondary-content"},r.a.createElement(f,{icon:"delete",classname:"red btn-small",onClick:s})),r.a.createElement(i.b,{to:o,className:"secondary-content"},r.a.createElement("i",{className:"material-icons"},c)))};E.defaultProps={mainIcon:"account_circle",secondaryIcon:"send",link:"/",isAdmin:!1};var b=function(e){var t=e.children;return r.a.createElement("ul",{className:"collection"},t)},v={marginRight:"30px",marginTop:"15px"},g=function(e){var t=e.children;return r.a.createElement("li",{className:"collection-item"},t)},h=a(49),N=a(133),y=a.n(N),O=a(15),w=a.n(O),j=a(21),S=a.n(j);function k(e,t){var a=Object.keys(e);if(Object.getOwnPropertySymbols){var n=Object.getOwnPropertySymbols(e);t&&(n=n.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),a.push.apply(a,n)}return a}function C(e){for(var t=1;t<arguments.length;t++){var a=null!=arguments[t]?arguments[t]:{};t%2?k(a,!0).forEach((function(t){Object(h.a)(e,t,a[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(a)):k(a).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(a,t))}))}return e}var x="admin",_="user",A="band",F=function(e){return e&&y.a.decode(e.slice(7),{complete:!0})},I=function(){var e=localStorage.getItem("token"),t=F(e);return!!t&&{user:t.payload,token:e}},D=function(){var e={headers:{Authorization:localStorage.getItem("token")}};return{get:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.a.get(t,C({},e,{},a))},post:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w.a.post(t,a,C({},e,{},n))},put:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return w.a.put(t,a,C({},e,{},n))},delete:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return w.a.delete(t,C({},e,{},a))}}},B=function(e){return D().get("https://rubato-web.herokuapp.com/api/person/searchById/".concat(e)).then((function(e){return e.data}))},P=function(){localStorage.removeItem("token"),delete w.a.defaults.headers.common.Authorization},L=function(e){return S()(e).format("DD-MM-YYYY")},R=function(){return D().get("api/person/list-all").then((function(e){return e.data}))},V=a(134),W=a.n(V),U=a(73),T=a.n(U),Y=function(e){var t=e.children,a=e.className,n=e.isOpen,l=e.overlayClassName,c=e.title,i=e.onClose;return r.a.createElement(W.a,{ariaHideApp:!1,className:m()(T.a.modal,a),overlayClassName:m()(T.a.overlay,l),onRequestClose:i,closeTimeoutMS:350,isOpen:n},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons right hoverable",onClick:i},"close"),c&&r.a.createElement("div",{className:"center-align",style:{fontWeight:"bold"}},c),r.a.createElement("div",{className:"center-align"},t)))},q=function(){return r.a.createElement("div",{className:"container center-align",style:{marginTop:"150px"}},r.a.createElement("div",{className:"preloader-wrapper big active container center-align"},r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-red"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-yellow"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-green"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"})))))},z=a(33),M=a.n(z),J=function(e){var t=e.value,a=e.onChange,n=e.name,l=e.label,c=e.required,i=e.icon;return r.a.createElement("div",{className:"input-field col s6"},i&&r.a.createElement("i",{className:"material-icons prefix"},i),r.a.createElement("input",{type:"text",id:"".concat(n,"-input"),value:t,onChange:a,required:c}),r.a.createElement("label",{htmlFor:"".concat(n,"-input")},l))};J.defaultProps={required:!0};var G=function(e){var t=e.value,a=e.onChange,n=e.options;return r.a.createElement("select",{value:t,onChange:a,className:"browser-default"},r.a.createElement("option",{key:9999,disabled:!0,value:""},"Select option"),n)},H=function(e){var t=e.value,a=e.onChange,n=e.name,l=e.label,c=e.required;return r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{type:"date",id:"".concat(n,"-input"),value:t,onChange:a,required:c}),r.a.createElement("label",{htmlFor:"".concat(n,"-input")},l))};H.defaultProps={required:!0};var K=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({clicked:!1,id:-1}),i=Object(u.a)(c,2),s=i[0],m=i[1],d=Object(n.useState)(!1),p=Object(u.a)(d,2),v=p[0],g=p[1],h=Object(n.useState)(""),N=Object(u.a)(h,2),y=N[0],O=N[1],w=I();Object(n.useEffect)((function(){0===y.length&&R().then((function(e){l(e)}))}),[w.token,v,y]),Object(n.useEffect)((function(){y&&y.length>0&&function(e){return D().get("api/person/search/".concat(e)).then((function(e){return e.data}))}(y).then((function(e){return l(e)}))}),[y]);return a?w.user.role!==x?r.a.createElement(o.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container center-align"},r.a.createElement(J,{icon:"search",name:"search",value:y,onChange:function(e){return O(e.target.value)},label:"Search anyone"})),r.a.createElement(b,null,a&&a.map((function(e){return r.a.createElement("div",{className:M.a.item,key:e.personId},r.a.createElement(E,{title:e.name,firstLine:e.username,secondLine:e.about,link:"/user-details/".concat(e.personId),isAdmin:!0,onDeleteClick:function(){return m({clicked:!0,id:e.personId})}}))})),r.a.createElement(Y,{title:"Confirmation Alert!!",isOpen:s.clicked,onClose:function(){return m({clicked:!1,id:-1})}},r.a.createElement(X,{users:a,id:s.id}),r.a.createElement("div",{className:M.a.deleteButton},r.a.createElement(f,{text:"Yes, Delete it",classname:"red",onClick:function(){var e;(e=s.id,D().delete("api/person/delete/".concat(e)).then((function(){return!0}))).then((function(e){m({clicked:!1,id:-1}),g(e)}))}})),r.a.createElement(f,{text:"Cancel",onClick:function(){return m({clicked:!1,id:-1})}})))):r.a.createElement(q,null)},X=function(e){var t=e.users,a=e.id,n=t&&-1!==a&&t.filter((function(e){return e.personId.toString()===a.toString()}))[0],l="This action is permanent and it will delete all the data related to ".concat(n?n.name:"",".");return r.a.createElement("div",{className:M.a.text},l," ",r.a.createElement("br",null),"Are you sure you want to delete?")},$=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],f=s[1],p=Object(n.useState)(null),E=Object(u.a)(p,2),b=E[0],v=E[1];return r.a.createElement("div",{id:"Login",className:"input-field center-align"},r.a.createElement("h6",null,r.a.createElement("b",null,"If you are registered, login here.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w.a.post("api/register/signIn",{username:c,password:m}).then((function(e){var a;a=e.data.token,localStorage.setItem("token",a),a?w.a.defaults.headers.common.Authorization=a:delete w.a.defaults.headers.common.Authorization,t.push("/")})).catch((function(e){return v(e.response.data)}))}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(J,{value:c,onChange:function(e){return i(e.target.value)},label:"Username",name:"username"}),b&&r.a.createElement("div",{style:{color:"red"}},b.username),r.a.createElement(J,{value:m,onChange:function(e){return f(e.target.value)},label:"Password",name:"password"}),b&&r.a.createElement("div",{style:{color:"red"}},b.password),r.a.createElement(d,{name:"Login"}))))},Q=function(){var e=I();return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper blue-grey darken-4"},r.a.createElement("a",{href:"https://rubato.no/",className:"brand-logo center"},r.a.createElement("b",null,"rubato.")),r.a.createElement("ul",{className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("i",{style:{marginLeft:"5px"},className:"material-icons"},"account_circle")),e&&r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold",marginLeft:"5px"}},e.user.name))),r.a.createElement("ul",{className:"right hide-on-med-and-down"},e?r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login",onClick:P},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register"},"Register"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://rubato.no/"},"Blog"))),window.innerWidth<=550&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"right"},e?r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login",onClick:P},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Login")))),r.a.createElement("ul",{className:"left"},e?r.a.createElement("li",null,r.a.createElement("span",{style:{marginLeft:"3px"}},e.user.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register"},"Register")))))))},Z=[r.a.createElement("option",{key:2,value:"user"},"USER"),r.a.createElement("option",{key:3,value:"band"},"BAND")],ee=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(u.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),s=Object(u.a)(o,2),m=s[0],f=s[1],p=Object(n.useState)(""),E=Object(u.a)(p,2),b=E[0],v=E[1],g=Object(n.useState)(""),h=Object(u.a)(g,2),N=h[0],y=h[1],O=Object(n.useState)(""),j=Object(u.a)(O,2),S=j[0],k=j[1],C=Object(n.useState)(""),x=Object(u.a)(C,2),_=x[0],A=x[1],F=Object(n.useState)(""),I=Object(u.a)(F,2),D=I[0],B=I[1],P=Object(n.useState)(""),L=Object(u.a)(P,2),R=L[0],V=L[1],W=Object(n.useState)(null),U=Object(u.a)(W,2),T=U[0],Y=U[1];return r.a.createElement("div",null,r.a.createElement("h6",{className:"center-align",style:{marginBottom:"20px"}},r.a.createElement("b",null,"Don't have an account yet, get yourself registered here.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),w.a.post("api/register/signUp",{name:c,username:m,phone:b,password:N,confirmPassword:S,about:D,price:R,role:_}).then((function(){t.push("/login")})).catch((function(e){return Y(e.response.data)}))}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(G,{options:Z,value:_,onChange:function(e){return A(e.target.value)}}),_&&r.a.createElement(r.a.Fragment,null,r.a.createElement(J,{onChange:function(e){return i(e.target.value)},value:c,label:"band"===_?"Band Name":"Your Name",name:"band"}),r.a.createElement(J,{value:m,onChange:function(e){return f(e.target.value)},label:"Email",name:"username"}),T&&r.a.createElement("div",{style:{color:"red"}},T.message),r.a.createElement(J,{value:b,onChange:function(e){return v(e.target.value)},label:"Phone Number",name:"phone"}),r.a.createElement(J,{value:N,onChange:function(e){return y(e.target.value)},label:"Password",name:"password"}),r.a.createElement(J,{value:S,onChange:function(e){return k(e.target.value)},label:"Confirm Password",name:"confirmPassword"}),"band"===_&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("textarea",{id:"about-input",value:D,name:"about",onChange:function(e){return B(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"about-input"},"Write Description of Your Band")),r.a.createElement(J,{value:R,onChange:function(e){return V(e.target.value)},label:"Booking Fee",name:"price"})),r.a.createElement(d,{name:"Register"})))))},te=Object(n.createContext)(null),ae=F(localStorage.getItem("token")),ne=function(e){var t=e.children;return r.a.createElement(te.Provider,{value:{decoded:ae}},t)},re=function(){var e=I();if(!e)return r.a.createElement(o.a,{to:"/login"});switch(e.user.role){case x:return r.a.createElement(o.a,{to:"/admin"});case _:return r.a.createElement(o.a,{to:"/user-profile"});case A:return r.a.createElement(o.a,{to:"/band"});default:return r.a.createElement(o.a,{to:"/login"})}},le=function(e){var t=e.title,a=e.icon,n=e.onClick,l=e.classname;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("span",{className:"card-title blue-grey",style:{width:"100%",fontWeight:"bold"}},t),r.a.createElement(f,{onClick:n,icon:a,classname:l})))},ce=function(e){var t=e.children;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},t))},ie=function(e){var t=e.children,a=e.imageContent;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},a),r.a.createElement("div",{className:"card-content"},t))},oe=a(20),ue=a.n(oe),se=a(40),me=a.n(se),de=function(e){var t=e.title,a=e.children,n=e.button,l=e.showFullUnderline,c=e.childStyle;return r.a.createElement("div",{className:me.a.root},r.a.createElement("div",{className:me.a.title},r.a.createElement("span",null,t),r.a.createElement("div",{className:m()(me.a.underline,Object(h.a)({},me.a.fullWidth,l))}),n),r.a.createElement("div",{className:c},a))},fe=a(50),pe=a(75),Ee=a.n(pe),be=function(e){var t=e.referenceButton,a=e.children,n=e.isOpen;return r.a.createElement(fe.a,null,r.a.createElement(fe.c,null,(function(e){var a=e.ref;return r.a.createElement("div",{ref:a},t)})),n?r.a.createElement(fe.b,{placement:"bottom"},(function(e){var t=e.ref,n=e.style,l=e.placement,c=e.arrowProps;return r.a.createElement("div",{ref:t,className:Ee.a.popper,style:n,"data-placement":l},a,r.a.createElement("div",{ref:c.ref,style:c.style,className:Ee.a.arrow,"data-placement":l}))})):null)},ve=function(e){var t=e.onDelete,a=Object(n.useState)(!1),l=Object(u.a)(a,2),c=l[0],i=l[1];return r.a.createElement(be,{isOpen:c,referenceButton:r.a.createElement(p,{onClick:function(){return i(!c)},icon:"delete"})},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:"center-align"},"Are you sure?",r.a.createElement("div",{style:{margin:"8px 0 8px 0"}},r.a.createElement(f,{text:"Yes, Delete it",classname:"red",onClick:t})),r.a.createElement(f,{text:"Cancel",onClick:function(){return i(!1)}})))},ge=function(e){var t=e.src,a=e.videoId,n=e.title,l=e.description,c=e.refetch;return r.a.createElement(ie,{imageContent:r.a.createElement("iframe",{src:t,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:a,width:"100%"})},r.a.createElement(ve,{onDelete:function(){D().delete("api/video/delete/".concat(a)).then((function(){c(3)}))}}),r.a.createElement("div",{style:{maxWidth:"fit-content"}},r.a.createElement("span",{className:"card-title"},n),r.a.createElement("p",null,l)))},he=function(e){var t=e.setShowForm,a=e.setRefetch,l=Object(n.useState)(""),c=Object(u.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(""),m=Object(u.a)(s,2),f=m[0],p=m[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),v=b[0],g=b[1];return r.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),D().post("api/video/upload",{name:i,path:(n=f,n.split("&")[0].replace("www.youtube.com/watch?v=","www.youtube.com/embed/")),type:v}).then((function(){t(!1),a(4)}))}},r.a.createElement(J,{value:i,onChange:function(e){return o(e.target.value)},label:"Video Name",name:"name"}),r.a.createElement(J,{value:f,onChange:function(e){return p(e.target.value)},label:"Video Link",name:"path"}),r.a.createElement(J,{value:v,onChange:function(e){return g(e.target.value)},label:"Description",name:"description"}),r.a.createElement(d,{name:"Submit"}))},Ne=function(e){var t=e.videos,a=e.setRefetch,l=Object(n.useState)(!1),c=Object(u.a)(l,2),i=c[0],o=c[1];return r.a.createElement(de,{title:"Video Section",button:r.a.createElement(f,{text:"Add video",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},r.a.createElement("div",{className:ue.a.bandVideos},t&&t.map((function(e){return r.a.createElement(ge,{title:e.name,src:e.path,description:e.type,videoId:e.idVideo,key:e.idVideo,refetch:a})}))),r.a.createElement(Y,{isOpen:i,title:"Add Video Form",onClose:function(){return o(!1)}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(he,{setShowForm:o,setRefetch:a}))))},ye=function(e){var t=e.setShowForm,a=e.setRefetch,l=e.form,c=Object(n.useState)(""),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useState)(""),f=Object(u.a)(m,2),p=f[0],E=f[1],b=Object(n.useState)(""),v=Object(u.a)(b,2),g=v[0],h=v[1];return r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),D().post("api/".concat(l,"/upload"),{name:o,path:p,description:g}).then((function(){t(!1),a(6)}))}},r.a.createElement(J,{value:o,onChange:function(e){return s(e.target.value)},label:"image"===l?"Image Name":"Album Name",name:"name"}),r.a.createElement(J,{value:p,onChange:function(e){return E(e.target.value)},label:"image"===l?"Image Link":"Album Link",name:"path"}),r.a.createElement(J,{value:g,onChange:function(e){return h(e.target.value)},label:"Description",name:"description"}),r.a.createElement(d,{name:"Submit"})))};ye.defaultProps={form:"image"};var Oe=ye,we=function(e){var t=e.images,a=e.setRefetch,l=Object(n.useState)(!1),c=Object(u.a)(l,2),i=c[0],o=c[1];return r.a.createElement(de,{title:"Image Section",button:r.a.createElement(f,{text:"Add image",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},r.a.createElement("div",{className:ue.a.bandVideos},t&&t.map((function(e){return r.a.createElement(je,{image:e,refetch:a,key:e.idImage})}))),r.a.createElement(Y,{isOpen:i,title:"Add Image",onClose:function(){return o(!1)}},r.a.createElement(Oe,{setShowForm:o,setRefetch:a})))},je=function(e){var t=e.image,a=e.refetch;return r.a.createElement(ie,{imageContent:r.a.createElement("img",{src:t.path,alt:"new"})},r.a.createElement(ve,{onDelete:function(){D().delete("api/image/delete/".concat(t.idImage)).then((function(){a(7)}))}}),r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.description))},Se=function(e){var t=e.showForm,a=e.setShowForm,l=e.band,c=e.setRefetch,i=Object(n.useState)(l.name),o=Object(u.a)(i,2),s=o[0],m=o[1],f=Object(n.useState)(l.about),p=Object(u.a)(f,2),E=p[0],b=p[1],v=Object(n.useState)(l.phone),g=Object(u.a)(v,2),h=g[0],N=g[1],y=Object(n.useState)(l.price),O=Object(u.a)(y,2),w=O[0],j=O[1];return r.a.createElement(Y,{isOpen:t,title:"Update Band Information",onClose:function(){return a(!1)}},r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),D().put("api/person/update-band/".concat(l.idPerson),{name:s,about:E,phone:h,price:w}).then((function(){a(!1),c(2)}))}},r.a.createElement(J,{defaultValue:l.name,name:"name",value:s,icon:"account_circle",onChange:function(e){return m(e.target.value)}}),r.a.createElement(J,{name:"about",value:E,icon:"description",onChange:function(e){return b(e.target.value)}}),r.a.createElement(J,{name:"number",value:h,icon:"phone",onChange:function(e){return N(e.target.value)}}),r.a.createElement(J,{name:"price",value:w,icon:"attach_money",onChange:function(e){return j(e.target.value)}}),r.a.createElement(d,{name:"Submit"}))))},ke={large:{width:300,height:380},compact:{width:300,height:80}},Ce=function(e){var t=e.uri,a=e.view,n=e.theme,l=e.size;return"string"===typeof l&&(l=ke[l]),r.a.createElement("iframe",{title:"Spotify",className:"SpotifyPlayer",src:"https://embed.spotify.com/?uri=".concat(t,"&view=").concat(a,"&theme=").concat(n),width:l.width,height:l.height,frameBorder:"0",allowtransparency:"true"})};Ce.defaultProps={size:"large",view:"list",theme:"black"};var xe=Ce,_e=function(e){var t=e.audios,a=e.setRefetch,l=Object(n.useState)(!1),c=Object(u.a)(l,2),i=c[0],o=c[1];return r.a.createElement(de,{title:"Audio Section",button:r.a.createElement(f,{text:"Add album",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},r.a.createElement("div",{className:ue.a.bandVideos},t&&t.map((function(e){return r.a.createElement(Ae,{audio:e,key:e.idAudio,refetch:a})}))),r.a.createElement(Y,{isOpen:i,title:"Add Spotify Album",onClose:function(){return o(!1)}},r.a.createElement(Oe,{form:"audio",setRefetch:a,setShowForm:o})))},Ae=function(e){var t=e.audio,a=e.refetch;return r.a.createElement(ie,{imageContent:r.a.createElement(xe,{uri:t.path})},r.a.createElement(ve,{onDelete:function(){D().delete("api/audio/delete/".concat(t.idAudio)).then((function(){a(5)}))}}),r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.description))},Fe=function(e){var t=e.bookings;return r.a.createElement("ul",{className:"collection"},t.filter((function(e){return S()(e.toDate).isAfter(S()().subtract(1,"days"))})).map((function(e){return r.a.createElement(g,{key:e.id},r.a.createElement("b",null,"Start:")," ",L(e.fromDate),r.a.createElement("br",null),r.a.createElement("b",null,"End:")," ",L(e.toDate),r.a.createElement("br",null))})))},Ie=function(e){var t=e.refetch,a=Object(n.useState)(null),l=Object(u.a)(a,2),c=l[0],i=l[1],o=I();return Object(n.useEffect)((function(){D().get("api/booking/user-bookings/".concat(o.user.idPerson)).then((function(e){return i(e.data)}))}),[o.user.idPerson,t]),null===c||0===c.length?r.a.createElement("div",null,"You did not have any bookings."):r.a.createElement(Fe,{bookings:c})},De=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),i=Object(u.a)(c,2),o=i[0],s=i[1],m=Object(n.useState)(!1),d=Object(u.a)(m,2),f=d[0],p=d[1],E=I();return Object(n.useEffect)((function(){B(E.user.idPerson).then((function(e){return l(e)}))}),[E.token,o]),a?(console.log(a),r.a.createElement("div",{style:{marginTop:"100px"},className:"container"},r.a.createElement(le,{title:a.name,icon:"edit",onClick:function(){return p(!0)}}),r.a.createElement(Be,{band:a}),r.a.createElement(Se,{showForm:f,setShowForm:p,band:a,setRefetch:s}),r.a.createElement(de,{title:"Bookings",showFullUnderline:!0},a.bookings&&a.bookings.length>0?r.a.createElement(Fe,{bookings:a.bookings}):r.a.createElement("div",null,"You don't have any bookings yet.")),r.a.createElement(Ne,{videos:a.video,setRefetch:s}),r.a.createElement(_e,{audios:a.audio,setRefetch:s}),r.a.createElement(we,{images:a.images,setRefetch:s}))):r.a.createElement(q,null)},Be=function(e){var t=e.band;return r.a.createElement(ce,null,r.a.createElement("div",null,r.a.createElement("b",null,"About:")," ",r.a.createElement("span",null,t.about)),r.a.createElement("div",null,r.a.createElement("b",null,"Contact Number:")," ",r.a.createElement("span",null,t.phone)),r.a.createElement("div",null,r.a.createElement("b",null,"Booking Fee:")," ",r.a.createElement("span",null,t.price)))},Pe=function(e){var t=e.user;return r.a.createElement(de,{title:"Video Section",showFullUnderline:!0},r.a.createElement("div",{className:ue.a.bandVideos},t.video&&t.video.map((function(e){return r.a.createElement(ie,{imageContent:r.a.createElement("iframe",{src:e.path,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:e.idVideo,width:"100%"}),key:e.idVideo},r.a.createElement("span",{className:"card-title"},e.name),r.a.createElement("p",null,e.type))}))))},Le=function(e){var t=e.user;return r.a.createElement(de,{title:"Image Section",showFullUnderline:!0},r.a.createElement("div",{className:ue.a.bandVideos},t.images&&t.images.map((function(e){return r.a.createElement(ie,{imageContent:r.a.createElement("img",{src:e.path,alt:"new"}),key:e.idImage},r.a.createElement("span",{className:"card-title"},e.name),r.a.createElement("p",null,e.description))}))))},Re=function(e){var t=e.user;return r.a.createElement(de,{title:"Audio Section",showFullUnderline:!0},r.a.createElement("div",{className:ue.a.bandVideos},t.audio&&t.audio.map((function(e){return r.a.createElement(xe,{uri:e.path,key:e.idAudio})}))))},Ve=function(e){var t=e.match,a=e.history,l=I(),c=Object(n.useState)(null),i=Object(u.a)(c,2),o=i[0],s=i[1],m=t.params.id;Object(n.useEffect)((function(){B(m).then((function(e){return s(e)})).catch((function(e){return console.log(e.response)}))}),[m]);return o?(console.log(o),r.a.createElement("div",{style:{marginTop:"100px"},className:"container"},r.a.createElement(le,{title:o.name,icon:"arrow_back",onClick:function(){var e=l&&l.user.role===x?"/admin":"/user-profile";a.push(e)}}),r.a.createElement(Be,{band:o}),r.a.createElement(de,{title:"Bookings",showFullUnderline:!0},o.bookings&&o.bookings.length>0?r.a.createElement(Fe,{bookings:o.bookings}):r.a.createElement("div",null,"Band is free for booking!")),r.a.createElement(Pe,{user:o}),r.a.createElement(Re,{user:o}),r.a.createElement(Le,{user:o}))):r.a.createElement(q,null)},We=function(e){return e&&e.filter((function(e){return e.role===A})).map((function(e){return r.a.createElement("option",{key:e.personId,value:e.personId},e.name)}))},Ue=function(e){var t=e.bandList,a=e.setShowForm,l=Object(n.useState)(""),c=Object(u.a)(l,2),i=c[0],o=c[1],s=Object(n.useState)(""),m=Object(u.a)(s,2),f=m[0],p=m[1],E=Object(n.useState)(""),b=Object(u.a)(E,2),v=b[0],g=b[1],h=Object(n.useState)(""),N=Object(u.a)(h,2),y=N[0],O=N[1];return r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),(S()(i).isAfter(f)||S()(f).isBefore(i)?(O("Start date cannot be after end date."),0):!S()(f).isBefore(S()())||(O("Booking cannot be done in the past."),0))&&D().post("api/booking/create",{fromDate:i,toDate:f,bandId:v}).then((function(){a(!1)}))}},r.a.createElement(G,{options:We(t),value:v,onChange:function(e){return g(e.target.value)}}),r.a.createElement(H,{name:"fromDate",label:"Start Date",value:i,onChange:function(e){return o(e.target.value)}}),y&&r.a.createElement("div",{style:{color:"red"}},y),r.a.createElement(H,{name:"toDate",label:"End Date",value:f,onChange:function(e){return p(e.target.value)}}),r.a.createElement(d,{name:"Submit"})))},Te=function(){var e=Object(n.useState)(null),t=Object(u.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(u.a)(c,2),o=i[0],s=i[1];return Object(n.useEffect)((function(){R().then((function(e){return l(e)}))}),[]),a?r.a.createElement("div",{className:"container",style:{marginTop:"30px"}},r.a.createElement(de,{title:"Bookings",button:r.a.createElement(f,{text:"Add Booking",icon:"playlist_add",classname:"blue-grey",onClick:function(){return s(!0)}})},r.a.createElement(r.a.Fragment,null,r.a.createElement(Y,{isOpen:o,title:"Add Booking",onClose:function(){return s(!1)}},r.a.createElement(Ue,{bandList:a,setShowForm:s})),r.a.createElement(Ie,{refetch:o}))),r.a.createElement(de,{title:"Band List",showFullUnderline:!0},r.a.createElement(b,null,a&&a.filter((function(e){return e.role===A})).map((function(e){return r.a.createElement("div",{className:M.a.item,key:e.personId},r.a.createElement(E,{title:e.name,firstLine:e.username,secondLine:e.phone,link:"/user-details/".concat(e.personId)}))}))))):r.a.createElement(q,null)},Ye=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ne,null,r.a.createElement(i.a,null,r.a.createElement(o.b,{path:"/",component:Q}),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:re}),r.a.createElement(o.b,{exact:!0,path:"/login",component:$}),r.a.createElement(o.b,{exact:!0,path:"/admin",component:K}),r.a.createElement(o.b,{exact:!0,path:"/register",component:ee}),r.a.createElement(o.b,{exact:!0,path:"/band",component:De}),r.a.createElement(o.b,{exact:!0,path:"/user-profile",component:Te}),r.a.createElement(o.b,{exact:!0,path:"/user-details/:id",component:Ve})))))},qe=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ze(e,t){navigator.serviceWorker.register(e).then((function(e){e.onupdatefound=function(){var a=e.installing;null!=a&&(a.onstatechange=function(){"installed"===a.state&&(navigator.serviceWorker.controller?(console.log("New content is available and will be used when all tabs for this page are closed. See https://bit.ly/CRA-PWA."),t&&t.onUpdate&&t.onUpdate(e)):(console.log("Content is cached for offline use."),t&&t.onSuccess&&t.onSuccess(e)))})}})).catch((function(e){console.error("Error during service worker registration:",e)}))}c.a.render(r.a.createElement(Ye,null),document.getElementById("root")),function(e){if("serviceWorker"in navigator){if(new URL("",window.location.href).origin!==window.location.origin)return;window.addEventListener("load",(function(){var t="".concat("","/service-worker.js");qe?(!function(e,t){fetch(e).then((function(a){var n=a.headers.get("content-type");404===a.status||null!=n&&-1===n.indexOf("javascript")?navigator.serviceWorker.ready.then((function(e){e.unregister().then((function(){window.location.reload()}))})):ze(e,t)})).catch((function(){console.log("No internet connection found. App is running in offline mode.")}))}(t,e),navigator.serviceWorker.ready.then((function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://bit.ly/CRA-PWA")}))):ze(t,e)}))}}()},33:function(e,t,a){e.exports={item:"Admin_item__2zE4v",deleteButton:"Admin_deleteButton__2rF0I",text:"Admin_text__2FTVu"}},40:function(e,t,a){e.exports={root:"Section_root__Sp7Pw",title:"Section_title__1BCX7",underline:"Section_underline__1LTbr",fullWidth:"Section_fullWidth__20JSt"}},73:function(e,t,a){e.exports={modal:"Modal_modal__3-K9g",overlay:"Modal_overlay__2CnJs"}},75:function(e,t,a){e.exports={popper:"Popper_popper__UIlmS",arrow:"Popper_arrow__3I2s6"}}},[[137,1,2]]]);
//# sourceMappingURL=main.067cc5b1.chunk.js.map