(window.webpackJsonprubato=window.webpackJsonprubato||[]).push([[0],{149:function(e,t,a){e.exports=a(296)},154:function(e,t,a){},155:function(e,t,a){},163:function(e,t){},165:function(e,t){},19:function(e,t,a){e.exports={bandVideos:"Band_bandVideos__1EGFn"}},201:function(e,t){},202:function(e,t){},296:function(e,t,a){"use strict";a.r(t);var n=a(0),r=a.n(n),l=a(74),c=a.n(l),i=(a(154),a(11)),o=a(27),m=(a(155),a(1)),u=a(26),s=a.n(u),d=function(e){var t=e.name;return r.a.createElement("button",{style:{marginTop:"20px"},className:"btn waves-effect waves-light",type:"submit"},t,r.a.createElement("i",{className:"material-icons right"},"send"))},E=function(e){var t=e.icon,a=e.classname,n=e.onClick,l=e.text;return r.a.createElement("button",{onClick:n,className:s()("btn waves-effect waves-light hoverable",a,{"halfway-fab btn-floating":!l})},l,r.a.createElement("i",{className:"material-icons right"},t))},f=function(e){var t=e.onClick,a=e.icon,n=e.classname;return r.a.createElement("button",{className:s()("right red btn-floating hoverable",n),onClick:t},r.a.createElement("i",{className:"material-icons right"},a))},p=function(e){var t=e.mainIcon,a=e.title,n=e.firstLine,l=e.secondLine,c=e.secondaryIcon,o=e.link,m=e.isAdmin,u=e.onDeleteClick;return r.a.createElement("li",{className:"collection-item avatar"},r.a.createElement("i",{className:"material-icons circle"},t),r.a.createElement("span",{className:"title"},a),r.a.createElement("p",null,n," ",r.a.createElement("br",null)," ",l),m&&r.a.createElement("div",{style:v,className:"secondary-content"},r.a.createElement(E,{icon:"delete",classname:"red btn-small",onClick:u})),r.a.createElement(i.b,{to:o,className:"secondary-content"},r.a.createElement("i",{className:"material-icons"},c)))};p.defaultProps={mainIcon:"account_circle",secondaryIcon:"send",link:"/",isAdmin:!1};var b=function(e){var t=e.children;return r.a.createElement("ul",{className:"collection"},t)},v={marginRight:"30px",marginTop:"15px"},g=function(e){var t=e.children;return r.a.createElement("li",{className:"collection-item"},t)},h=a(41),N=a(145),O=a.n(N),y=a(16),j=a.n(y),S=a(22),k=a.n(S),w="admin",C="user",x="band",_=function(e){return e&&O.a.decode(e.slice(7),{complete:!0})},F=function(){var e=localStorage.getItem("token"),t=_(e);return!!t&&{user:t.payload,token:e}},I=function(){var e={headers:{Authorization:localStorage.getItem("token")}};return{get:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.a.get(t,Object(h.a)({},e,{},a))},post:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.a.post(t,a,Object(h.a)({},e,{},n))},put:function(t,a){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return j.a.put(t,a,Object(h.a)({},e,{},n))},delete:function(t){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return j.a.delete(t,Object(h.a)({},e,{},a))}}},A=function(e){return I().get("https://rubato-web.herokuapp.com/api/person/searchById/".concat(e)).then((function(e){return e.data}))},B=function(){localStorage.removeItem("token"),delete j.a.defaults.headers.common.Authorization},D=function(e){return k()(e).format("DD-MM-YYYY")},L=function(e){return e.filter((function(e){return k()(e.toDate).isAfter(k()().subtract(1,"days"))}))},P=function(){return I().get("api/person/list-all").then((function(e){return e.data}))},R=a(146),V=a.n(R),U=a(77),W=a.n(U),T=function(e){var t=e.children,a=e.className,n=e.isOpen,l=e.overlayClassName,c=e.title,i=e.onClose;return r.a.createElement(V.a,{ariaHideApp:!1,className:s()(W.a.modal,a),overlayClassName:s()(W.a.overlay,l),onRequestClose:i,closeTimeoutMS:350,isOpen:n},r.a.createElement("div",null,r.a.createElement("i",{className:"material-icons right hoverable",onClick:i},"close"),c&&r.a.createElement("div",{className:"center-align",style:{fontWeight:"bold"}},c),r.a.createElement("div",{className:"center-align"},t)))},Y=function(){return r.a.createElement("div",{className:"container center-align",style:{marginTop:"150px"}},r.a.createElement("div",{className:"preloader-wrapper big active container center-align"},r.a.createElement("div",{className:"spinner-layer spinner-blue"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-red"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-yellow"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"}))),r.a.createElement("div",{className:"spinner-layer spinner-green"},r.a.createElement("div",{className:"circle-clipper left"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"gap-patch"},r.a.createElement("div",{className:"circle"})),r.a.createElement("div",{className:"circle-clipper right"},r.a.createElement("div",{className:"circle"})))))},q=a(34),z=a.n(q),M=function(e){var t=e.value,a=e.onChange,n=e.name,l=e.label,c=e.required,i=e.icon;return r.a.createElement("div",{className:"input-field col s6"},i&&r.a.createElement("i",{className:"material-icons prefix"},i),r.a.createElement("input",{type:"text",id:"".concat(n,"-input"),value:t,onChange:a,required:c}),r.a.createElement("label",{htmlFor:"".concat(n,"-input")},l))};M.defaultProps={required:!0};var J=function(e){var t=e.value,a=e.onChange,n=e.options;return r.a.createElement("select",{value:t,onChange:a,className:"browser-default"},r.a.createElement("option",{key:9999,disabled:!0,value:""},"Select option"),n)},G=function(e){var t=e.value,a=e.onChange,n=e.name,l=e.label,c=e.required;return r.a.createElement("div",{className:"input-field col s6"},r.a.createElement("input",{type:"date",id:"".concat(n,"-input"),value:t,onChange:a,required:c}),r.a.createElement("label",{htmlFor:"".concat(n,"-input")},l))};G.defaultProps={required:!0};var H=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)({clicked:!1,id:-1}),i=Object(m.a)(c,2),u=i[0],s=i[1],d=Object(n.useState)(!1),f=Object(m.a)(d,2),v=f[0],g=f[1],h=Object(n.useState)(""),N=Object(m.a)(h,2),O=N[0],y=N[1],j=F();Object(n.useEffect)((function(){0===O.length&&P().then((function(e){l(e)}))}),[j.token,v,O]),Object(n.useEffect)((function(){O&&O.length>0&&function(e){return I().get("api/person/search/".concat(e)).then((function(e){return e.data}))}(O).then((function(e){return l(e)}))}),[O]);return a?j.user.role!==w?r.a.createElement(o.a,{to:"/login"}):r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"container center-align"},r.a.createElement(M,{icon:"search",name:"search",value:O,onChange:function(e){return y(e.target.value)},label:"Search anyone"})),r.a.createElement(b,null,a&&a.map((function(e){return r.a.createElement("div",{className:z.a.item,key:e.personId},r.a.createElement(p,{title:e.name,firstLine:e.username,secondLine:e.about,link:"/user-details/".concat(e.personId),isAdmin:!0,onDeleteClick:function(){return s({clicked:!0,id:e.personId})}}))})),r.a.createElement(T,{title:"Confirmation Alert!!",isOpen:u.clicked,onClose:function(){return s({clicked:!1,id:-1})}},r.a.createElement(K,{users:a,id:u.id}),r.a.createElement("div",{className:z.a.deleteButton},r.a.createElement(E,{text:"Yes, Delete it",classname:"red",onClick:function(){var e;(e=u.id,I().delete("api/person/delete/".concat(e)).then((function(){return!0}))).then((function(e){s({clicked:!1,id:-1}),g(e)}))}})),r.a.createElement(E,{text:"Cancel",onClick:function(){return s({clicked:!1,id:-1})}})))):r.a.createElement(Y,null)},K=function(e){var t=e.users,a=e.id,n=t&&-1!==a&&t.filter((function(e){return e.personId.toString()===a.toString()}))[0],l="This action is permanent and it will delete all the data related to ".concat(n?n.name:"",".");return r.a.createElement("div",{className:z.a.text},l," ",r.a.createElement("br",null),"Are you sure you want to delete?")},X=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),s=u[0],E=u[1],f=Object(n.useState)(null),p=Object(m.a)(f,2),b=p[0],v=p[1],g=Object(n.useState)(!1),h=Object(m.a)(g,2),N=h[0],O=h[1];return N?r.a.createElement(Y,null):r.a.createElement("div",{id:"Login",className:"input-field center-align"},r.a.createElement("h6",null,r.a.createElement("b",null,"If you are registered, login here.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),O(!0),j.a.post("api/register/signIn",{username:c,password:s}).then((function(e){var a;O(!1),a=e.data.token,localStorage.setItem("token",a),a?j.a.defaults.headers.common.Authorization=a:delete j.a.defaults.headers.common.Authorization,t.push("/")})).catch((function(e){O(!1),v(e.response.data)}))}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(M,{value:c,onChange:function(e){return i(e.target.value)},label:"Username",name:"username"}),b&&r.a.createElement("div",{style:{color:"red"}},b.username),r.a.createElement(M,{value:s,onChange:function(e){return E(e.target.value)},label:"Password",name:"password"}),b&&r.a.createElement("div",{style:{color:"red"}},b.password),r.a.createElement(d,{name:"Login"}))))},$=function(){var e=F();return r.a.createElement("nav",null,r.a.createElement("div",{className:"nav-wrapper blue-grey darken-4"},r.a.createElement("a",{href:"https://rubato.no/",className:"brand-logo center"},r.a.createElement("b",null,"rubato.")),r.a.createElement("ul",{className:"left hide-on-med-and-down"},r.a.createElement("li",null,r.a.createElement("i",{style:{marginLeft:"5px"},className:"material-icons"},"account_circle")),e&&r.a.createElement("li",null,r.a.createElement("span",{style:{fontWeight:"bold",marginLeft:"5px"}},e.user.name))),r.a.createElement("ul",{className:"right hide-on-med-and-down"},e?r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login",onClick:B},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Login")),r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register"},"Register"))),r.a.createElement("li",null,r.a.createElement("a",{href:"https://rubato.no/"},"Blog"))),window.innerWidth<=550&&r.a.createElement(r.a.Fragment,null,r.a.createElement("ul",{className:"right"},e?r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login",onClick:B},"Logout")):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/login"},"Login")))),r.a.createElement("ul",{className:"left"},e?r.a.createElement("li",null,r.a.createElement("span",{style:{marginLeft:"3px"}},e.user.name)):r.a.createElement(r.a.Fragment,null,r.a.createElement("li",null,r.a.createElement(i.b,{to:"/register"},"Register")))))))},Q=[r.a.createElement("option",{key:2,value:"user"},"USER"),r.a.createElement("option",{key:3,value:"band"},"BAND")],Z=function(e){var t=e.history,a=Object(n.useState)(""),l=Object(m.a)(a,2),c=l[0],i=l[1],o=Object(n.useState)(""),u=Object(m.a)(o,2),s=u[0],E=u[1],f=Object(n.useState)(""),p=Object(m.a)(f,2),b=p[0],v=p[1],g=Object(n.useState)(""),h=Object(m.a)(g,2),N=h[0],O=h[1],y=Object(n.useState)(""),S=Object(m.a)(y,2),k=S[0],w=S[1],C=Object(n.useState)(""),x=Object(m.a)(C,2),_=x[0],F=x[1],I=Object(n.useState)(""),A=Object(m.a)(I,2),B=A[0],D=A[1],L=Object(n.useState)(""),P=Object(m.a)(L,2),R=P[0],V=P[1],U=Object(n.useState)(null),W=Object(m.a)(U,2),T=W[0],Y=W[1];return r.a.createElement("div",null,r.a.createElement("h6",{className:"center-align",style:{marginBottom:"20px"}},r.a.createElement("b",null,"Don't have an account yet, get yourself registered here.")),r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),j.a.post("api/register/signUp",{name:c,username:s,phone:b,password:N,confirmPassword:k,about:B,price:R,role:_}).then((function(){t.push("/login")})).catch((function(e){return Y(e.response.data)}))}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(J,{options:Q,value:_,onChange:function(e){return F(e.target.value)}}),_&&r.a.createElement(r.a.Fragment,null,r.a.createElement(M,{onChange:function(e){return i(e.target.value)},value:c,label:"band"===_?"Band Name":"Your Name",name:"band"}),r.a.createElement(M,{value:s,onChange:function(e){return E(e.target.value)},label:"Email",name:"username"}),T&&r.a.createElement("div",{style:{color:"red"}},T.message),r.a.createElement(M,{value:b,onChange:function(e){return v(e.target.value)},label:"Phone Number",name:"phone"}),r.a.createElement(M,{value:N,onChange:function(e){return O(e.target.value)},label:"Password",name:"password"}),r.a.createElement(M,{value:k,onChange:function(e){return w(e.target.value)},label:"Confirm Password",name:"confirmPassword"}),"band"===_&&r.a.createElement(r.a.Fragment,null,r.a.createElement("div",{className:"input-field col s12"},r.a.createElement("textarea",{id:"about-input",value:B,name:"about",onChange:function(e){return D(e.target.value)},required:!0}),r.a.createElement("label",{htmlFor:"about-input"},"Write Description of Your Band")),r.a.createElement(M,{value:R,onChange:function(e){return V(e.target.value)},label:"Booking Fee",name:"price"})),r.a.createElement(d,{name:"Register"})))))},ee=Object(n.createContext)(null),te=_(localStorage.getItem("token")),ae=function(e){var t=e.children;return r.a.createElement(ee.Provider,{value:{decoded:te}},t)},ne=function(){var e=F();if(!e)return r.a.createElement(o.a,{to:"/login"});switch(e.user.role){case w:return r.a.createElement(o.a,{to:"/admin"});case C:return r.a.createElement(o.a,{to:"/user-profile"});case x:return r.a.createElement(o.a,{to:"/band"});default:return r.a.createElement(o.a,{to:"/login"})}},re=function(e){var t=e.title,a=e.icon,n=e.onClick,l=e.classname;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},r.a.createElement("span",{className:"card-title blue-grey",style:{width:"100%",fontWeight:"bold"}},t),r.a.createElement(E,{onClick:n,icon:a,classname:l})))},le=function(e){var t=e.children;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-content"},t))},ce=function(e){var t=e.children,a=e.imageContent;return r.a.createElement("div",{className:"card"},r.a.createElement("div",{className:"card-image"},a),r.a.createElement("div",{className:"card-content"},t))},ie=a(19),oe=a.n(ie),me=a(51),ue=a(42),se=a.n(ue),de=function(e){var t=e.title,a=e.children,n=e.button,l=e.showFullUnderline,c=e.childStyle;return r.a.createElement("div",{className:se.a.root},r.a.createElement("div",{className:se.a.title},r.a.createElement("span",null,t),r.a.createElement("div",{className:s()(se.a.underline,Object(me.a)({},se.a.fullWidth,l))}),n),r.a.createElement("div",{className:c},a))},Ee=a(52),fe=a(298),pe=a(299),be=a(78),ve=a.n(be),ge=function(e){var t=e.referenceButton,a=e.children,n=e.isOpen;return r.a.createElement(Ee.c,null,r.a.createElement(fe.a,null,(function(e){var a=e.ref;return r.a.createElement("div",{ref:a},t)})),n?r.a.createElement(pe.a,{placement:"bottom"},(function(e){var t=e.ref,n=e.style,l=e.placement,c=e.arrowProps;return r.a.createElement("div",{ref:t,className:ve.a.popper,style:n,"data-placement":l},a,r.a.createElement("div",{ref:c.ref,style:c.style,className:ve.a.arrow,"data-placement":l}))})):null)},he=function(e){var t=e.onDelete,a=Object(n.useState)(!1),l=Object(m.a)(a,2),c=l[0],i=l[1];return r.a.createElement(ge,{isOpen:c,referenceButton:r.a.createElement(f,{onClick:function(){return i(!c)},icon:"delete"})},r.a.createElement("div",{style:{display:"flex",flexDirection:"column"},className:"center-align"},"Are you sure?",r.a.createElement("div",{style:{margin:"8px 0 8px 0"}},r.a.createElement(E,{text:"Yes, Delete it",classname:"red",onClick:t})),r.a.createElement(E,{text:"Cancel",onClick:function(){return i(!1)}})))},Ne=function(e){var t=e.src,a=e.videoId,n=e.title,l=e.description,c=e.refetch;return r.a.createElement(ce,{imageContent:r.a.createElement("iframe",{src:t,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:a,width:"100%"})},r.a.createElement(he,{onDelete:function(){I().delete("api/video/delete/".concat(a)).then((function(){c(3)}))}}),r.a.createElement("div",{style:{maxWidth:"fit-content"}},r.a.createElement("span",{className:"card-title"},n),r.a.createElement("p",null,l)))},Oe=function(e){var t=e.setShowForm,a=e.setRefetch,l=Object(n.useState)(""),c=Object(m.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(""),s=Object(m.a)(u,2),E=s[0],f=s[1],p=Object(n.useState)(""),b=Object(m.a)(p,2),v=b[0],g=b[1];return r.a.createElement("form",{onSubmit:function(e){var n;e.preventDefault(),I().post("api/video/upload",{name:i,path:(n=E,n.split("&")[0].replace("www.youtube.com/watch?v=","www.youtube.com/embed/")),type:v}).then((function(){t(!1),a(4)}))}},r.a.createElement(M,{value:i,onChange:function(e){return o(e.target.value)},label:"Video Name",name:"name"}),r.a.createElement(M,{value:E,onChange:function(e){return f(e.target.value)},label:"Video Link",name:"path"}),r.a.createElement(M,{value:v,onChange:function(e){return g(e.target.value)},label:"Description",name:"description"}),r.a.createElement(d,{name:"Submit"}))},ye=function(e){var t=e.videos,a=e.setRefetch,l=Object(n.useState)(!1),c=Object(m.a)(l,2),i=c[0],o=c[1];return r.a.createElement(de,{title:"Video Section",button:r.a.createElement(E,{text:"Add video",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},r.a.createElement("div",{className:oe.a.bandVideos},t&&t.map((function(e){return r.a.createElement(Ne,{title:e.name,src:e.path,description:e.type,videoId:e.idVideo,key:e.idVideo,refetch:a})}))),r.a.createElement(T,{isOpen:i,title:"Add Video Form",onClose:function(){return o(!1)}},r.a.createElement("div",{className:"container center-align"},r.a.createElement(Oe,{setShowForm:o,setRefetch:a}))))},je=function(e){var t=e.setShowForm,a=e.setRefetch,l=e.form,c=Object(n.useState)(""),i=Object(m.a)(c,2),o=i[0],u=i[1],s=Object(n.useState)(""),E=Object(m.a)(s,2),f=E[0],p=E[1],b=Object(n.useState)(""),v=Object(m.a)(b,2),g=v[0],h=v[1];return r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),I().post("api/".concat(l,"/upload"),{name:o,path:f,description:g}).then((function(){t(!1),a(6)}))}},r.a.createElement(M,{value:o,onChange:function(e){return u(e.target.value)},label:"image"===l?"Image Name":"Album Name",name:"name"}),r.a.createElement(M,{value:f,onChange:function(e){return p(e.target.value)},label:"image"===l?"Image Link":"Album Link",name:"path"}),r.a.createElement(M,{value:g,onChange:function(e){return h(e.target.value)},label:"Description",name:"description"}),r.a.createElement(d,{name:"Submit"})))};je.defaultProps={form:"image"};var Se=je,ke=function(e){var t=e.images,a=e.setRefetch,l=Object(n.useState)(!1),c=Object(m.a)(l,2),i=c[0],o=c[1];return r.a.createElement(de,{title:"Image Section",button:r.a.createElement(E,{text:"Add image",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},r.a.createElement("div",{className:oe.a.bandVideos},t&&t.map((function(e){return r.a.createElement(we,{image:e,refetch:a,key:e.idImage})}))),r.a.createElement(T,{isOpen:i,title:"Add Image",onClose:function(){return o(!1)}},r.a.createElement(Se,{setShowForm:o,setRefetch:a})))},we=function(e){var t=e.image,a=e.refetch;return r.a.createElement(ce,{imageContent:r.a.createElement("img",{src:t.path,alt:"new"})},r.a.createElement(he,{onDelete:function(){I().delete("api/image/delete/".concat(t.idImage)).then((function(){a(7)}))}}),r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.description))},Ce=function(e){var t=e.showForm,a=e.setShowForm,l=e.band,c=e.setRefetch,i=Object(n.useState)(l.name),o=Object(m.a)(i,2),u=o[0],s=o[1],E=Object(n.useState)(l.about),f=Object(m.a)(E,2),p=f[0],b=f[1],v=Object(n.useState)(l.phone),g=Object(m.a)(v,2),h=g[0],N=g[1],O=Object(n.useState)(l.price),y=Object(m.a)(O,2),j=y[0],S=y[1];return r.a.createElement(T,{isOpen:t,title:"Update Band Information",onClose:function(){return a(!1)}},r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),I().put("api/person/update-band/".concat(l.idPerson),{name:u,about:p,phone:h,price:j}).then((function(){a(!1),c(2)}))}},r.a.createElement(M,{defaultValue:l.name,name:"name",value:u,icon:"account_circle",onChange:function(e){return s(e.target.value)}}),r.a.createElement(M,{name:"about",value:p,icon:"description",onChange:function(e){return b(e.target.value)}}),r.a.createElement(M,{name:"number",value:h,icon:"phone",onChange:function(e){return N(e.target.value)}}),r.a.createElement(M,{name:"price",value:j,icon:"attach_money",onChange:function(e){return S(e.target.value)}}),r.a.createElement(d,{name:"Submit"}))))},xe={large:{width:300,height:380},compact:{width:300,height:80}},_e=function(e){var t=e.uri,a=e.view,n=e.theme,l=e.size;return"string"===typeof l&&(l=xe[l]),r.a.createElement("iframe",{title:"Spotify",className:"SpotifyPlayer",src:"https://embed.spotify.com/?uri=".concat(t,"&view=").concat(a,"&theme=").concat(n),width:l.width,height:l.height,frameBorder:"0",allowtransparency:"true"})};_e.defaultProps={size:"large",view:"list",theme:"black"};var Fe=_e,Ie=function(e){var t=e.audios,a=e.setRefetch,l=Object(n.useState)(!1),c=Object(m.a)(l,2),i=c[0],o=c[1];return r.a.createElement(de,{title:"Audio Section",button:r.a.createElement(E,{text:"Add album",icon:"playlist_add",classname:"blue-grey",onClick:function(){return o(!0)}})},r.a.createElement("div",{className:oe.a.bandVideos},t&&t.map((function(e){return r.a.createElement(Ae,{audio:e,key:e.idAudio,refetch:a})}))),r.a.createElement(T,{isOpen:i,title:"Add Spotify Album",onClose:function(){return o(!1)}},r.a.createElement(Se,{form:"audio",setRefetch:a,setShowForm:o})))},Ae=function(e){var t=e.audio,a=e.refetch;return r.a.createElement(ce,{imageContent:r.a.createElement(Fe,{uri:t.path})},r.a.createElement(he,{onDelete:function(){I().delete("api/audio/delete/".concat(t.idAudio)).then((function(){a(5)}))}}),r.a.createElement("span",{className:"card-title"},t.name),r.a.createElement("p",null,t.description))},Be=function(e){var t=e.bookings;return r.a.createElement("ul",{className:"collection"},L(t).map((function(e){return r.a.createElement(g,{key:e.id},r.a.createElement("b",null,"Start:")," ",D(e.fromDate),r.a.createElement("br",null),r.a.createElement("b",null,"End:")," ",D(e.toDate),r.a.createElement("br",null))})))},De=function(e){var t=e.refetch,a=Object(n.useState)(null),l=Object(m.a)(a,2),c=l[0],i=l[1],o=F();return Object(n.useEffect)((function(){I().get("api/booking/user-bookings/".concat(o.user.idPerson)).then((function(e){return i(e.data)}))}),[o.user.idPerson,t]),null===c||0===L(c).length?r.a.createElement("div",null,"You did not have any bookings."):r.a.createElement(Be,{bookings:c})},Le=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(0),i=Object(m.a)(c,2),o=i[0],u=i[1],s=Object(n.useState)(!1),d=Object(m.a)(s,2),E=d[0],f=d[1],p=F();return Object(n.useEffect)((function(){A(p.user.idPerson).then((function(e){return l(e)}))}),[p.token,o]),a?r.a.createElement("div",{style:{marginTop:"100px"},className:"container"},r.a.createElement(re,{title:a.name,icon:"edit",onClick:function(){return f(!0)}}),r.a.createElement(Pe,{band:a}),r.a.createElement(Ce,{showForm:E,setShowForm:f,band:a,setRefetch:u}),r.a.createElement(de,{title:"Bookings",showFullUnderline:!0},a.bookings&&L(a.bookings).length>0?r.a.createElement(Be,{bookings:a.bookings}):r.a.createElement("div",null,"You don't have any bookings in future.")),r.a.createElement(ye,{videos:a.video,setRefetch:u}),r.a.createElement(Ie,{audios:a.audio,setRefetch:u}),r.a.createElement(ke,{images:a.images,setRefetch:u})):r.a.createElement(Y,null)},Pe=function(e){var t=e.band;return r.a.createElement(le,null,r.a.createElement("div",null,r.a.createElement("b",null,"About:")," ",r.a.createElement("span",null,t.about)),r.a.createElement("div",null,r.a.createElement("b",null,"Contact Number:")," ",r.a.createElement("span",null,t.phone)),r.a.createElement("div",null,r.a.createElement("b",null,"Booking Fee:")," ",r.a.createElement("span",null,t.price)))},Re=function(e){var t=e.user;return r.a.createElement(de,{title:"Video Section",showFullUnderline:!0},r.a.createElement("div",{className:oe.a.bandVideos},t.video&&t.video.map((function(e){return r.a.createElement(ce,{imageContent:r.a.createElement("iframe",{src:e.path,frameBorder:0,allow:"autoplay; encrypted-media",allowFullScreen:!0,title:e.idVideo,width:"100%"}),key:e.idVideo},r.a.createElement("span",{className:"card-title"},e.name),r.a.createElement("p",null,e.type))}))))},Ve=function(e){var t=e.user;return r.a.createElement(de,{title:"Image Section",showFullUnderline:!0},r.a.createElement("div",{className:oe.a.bandVideos},t.images&&t.images.map((function(e){return r.a.createElement(ce,{imageContent:r.a.createElement("img",{src:e.path,alt:"new"}),key:e.idImage},r.a.createElement("span",{className:"card-title"},e.name),r.a.createElement("p",null,e.description))}))))},Ue=function(e){var t=e.user;return r.a.createElement(de,{title:"Audio Section",showFullUnderline:!0},r.a.createElement("div",{className:oe.a.bandVideos},t.audio&&t.audio.map((function(e){return r.a.createElement(Fe,{uri:e.path,key:e.idAudio})}))))},We=function(e){var t=e.match,a=e.history,l=F(),c=Object(n.useState)(null),i=Object(m.a)(c,2),o=i[0],u=i[1],s=t.params.id;Object(n.useEffect)((function(){A(s).then((function(e){return u(e)}))}),[s]);return o?(console.log(o),r.a.createElement("div",{style:{marginTop:"100px"},className:"container"},r.a.createElement(re,{title:o.name,icon:"arrow_back",onClick:function(){var e=l&&l.user.role===w?"/admin":"/user-profile";a.push(e)}}),r.a.createElement(Pe,{band:o}),r.a.createElement(de,{title:"Bookings",showFullUnderline:!0},o.bookings&&o.bookings.length>0?r.a.createElement(Be,{bookings:o.bookings}):r.a.createElement("div",null,"Band is free for booking!")),r.a.createElement(Re,{user:o}),r.a.createElement(Ue,{user:o}),r.a.createElement(Ve,{user:o}))):r.a.createElement(Y,null)},Te=function(e){return e&&e.filter((function(e){return e.role===x})).map((function(e){return r.a.createElement("option",{key:e.personId,value:e.personId},e.name)}))},Ye=function(e){var t=e.bandList,a=e.setShowForm,l=Object(n.useState)(""),c=Object(m.a)(l,2),i=c[0],o=c[1],u=Object(n.useState)(""),s=Object(m.a)(u,2),E=s[0],f=s[1],p=Object(n.useState)(""),b=Object(m.a)(p,2),v=b[0],g=b[1],h=Object(n.useState)(""),N=Object(m.a)(h,2),O=N[0],y=N[1];return r.a.createElement("div",{className:"container center-align"},r.a.createElement("form",{onSubmit:function(e){e.preventDefault(),(k()(i).isAfter(E)||k()(E).isBefore(i)?(y("Start date cannot be after end date."),0):!k()(E).isBefore(k()())||(y("Booking cannot be done in the past."),0))&&I().post("api/booking/create",{fromDate:i,toDate:E,bandId:v}).then((function(){a(!1)}))}},r.a.createElement(J,{options:Te(t),value:v,onChange:function(e){return g(e.target.value)}}),r.a.createElement(G,{name:"fromDate",label:"Start Date",value:i,onChange:function(e){return o(e.target.value)}}),O&&r.a.createElement("div",{style:{color:"red"}},O),r.a.createElement(G,{name:"toDate",label:"End Date",value:E,onChange:function(e){return f(e.target.value)}}),r.a.createElement(d,{name:"Submit"})))},qe=function(){var e=Object(n.useState)(null),t=Object(m.a)(e,2),a=t[0],l=t[1],c=Object(n.useState)(!1),i=Object(m.a)(c,2),o=i[0],u=i[1];return Object(n.useEffect)((function(){P().then((function(e){return l(e)}))}),[]),a?r.a.createElement("div",{className:"container",style:{marginTop:"30px"}},r.a.createElement(de,{title:"Bookings",button:r.a.createElement(E,{text:"Add Booking",icon:"playlist_add",classname:"blue-grey",onClick:function(){return u(!0)}})},r.a.createElement(r.a.Fragment,null,r.a.createElement(T,{isOpen:o,title:"Add Booking",onClose:function(){return u(!1)}},r.a.createElement(Ye,{bandList:a,setShowForm:u})),r.a.createElement(De,{refetch:o}))),r.a.createElement(de,{title:"Band List",showFullUnderline:!0},r.a.createElement(b,null,a&&a.filter((function(e){return e.role===x})).map((function(e){return r.a.createElement("div",{className:z.a.item,key:e.personId},r.a.createElement(p,{title:e.name,firstLine:e.username,secondLine:e.phone,link:"/user-details/".concat(e.personId)}))}))))):r.a.createElement(Y,null)},ze=function(){return r.a.createElement("div",{className:"App"},r.a.createElement(ae,null,r.a.createElement(i.a,null,r.a.createElement(o.b,{path:"/",component:$}),r.a.createElement(o.d,null,r.a.createElement(o.b,{exact:!0,path:"/",component:ne}),r.a.createElement(o.b,{exact:!0,path:"/login",component:X}),r.a.createElement(o.b,{exact:!0,path:"/admin",component:H}),r.a.createElement(o.b,{exact:!0,path:"/register",component:Z}),r.a.createElement(o.b,{exact:!0,path:"/band",component:Le}),r.a.createElement(o.b,{exact:!0,path:"/user-profile",component:qe}),r.a.createElement(o.b,{exact:!0,path:"/user-details/:id",component:We})))))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(r.a.createElement(ze,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e,t,a){e.exports={item:"Admin_item__2zE4v",deleteButton:"Admin_deleteButton__2rF0I",text:"Admin_text__2FTVu"}},42:function(e,t,a){e.exports={root:"Section_root__Sp7Pw",title:"Section_title__1BCX7",underline:"Section_underline__1LTbr",fullWidth:"Section_fullWidth__20JSt"}},77:function(e,t,a){e.exports={modal:"Modal_modal__3-K9g",overlay:"Modal_overlay__2CnJs"}},78:function(e,t,a){e.exports={popper:"Popper_popper__UIlmS",arrow:"Popper_arrow__3I2s6"}}},[[149,1,2]]]);
//# sourceMappingURL=main.d7e91ac5.chunk.js.map